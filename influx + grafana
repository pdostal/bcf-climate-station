## Insatall

### InfluxDB

curl -sL https://repos.influxdata.com/influxdb.key | sudo apt-key add -
echo "deb https://repos.influxdata.com/debian jessie stable" | sudo tee /etc/apt/sources.list.d/influxdb.list
sudo apt-get update && sudo apt-get install influxdb
sudo systemctl daemon-reload
sudo systemctl enable influxdb
sudo systemctl start influxdb

Pokud chcete administrovat influx přes http tak v /etc/influxdb/influxdb.conf
odkomentujdete a upravte enabled = true a bind-address = ":8083"

### Grafana

* rpi
	wget "https://github.com/fg2it/grafana-on-raspberry/releases/download/v4.1.2/grafana_4.1.2-1487023783_armhf.deb"
	sudo dpkg -i grafana_4.1.2-1487023783_armhf.deb
        sudo apt-get install -f

* x86-64
	sudo apt-get install -y apt-transport-https
	curl -sL https://packagecloud.io/gpg.key | sudo apt-key add -
	echo "deb https://packagecloud.io/grafana/stable/debian/ jessie main" | sudo tee /etc/apt/sources.list.d/grafana.list
	sudo apt-get update && sudo apt-get install grafana

sudo systemctl daemon-reload
sudo systemctl enable grafana-server
sudo systemctl start grafana-server



### Další

sudo pip3 install influxdb

# Vytvoreni databaze node
curl "http://localhost:8086/query?q=CREATE+DATABASE+%22node%22&db=_internal"
# kontrola
curl "http://localhost:8086/query?q=SHOW+DATABASES&db=_internal"


soubor nakopirovat do /usr/bin a odebrat priponu .py

sudo mv mqtt_to_influxdb.py /usr/bin/mqtt_to_influxdb
sudo chmod +x /usr/bin/mqtt_to_influxdb


sudo mv mqtt_to_influxdb.service /etc/systemd/system

sudo systemctl daemon-reload
sudo systemctl enable mqtt_to_influxdb.service
sudo systemctl start mqtt_to_influxdb.service




# InfluxDB na http://192.168.3.110:8083/#
# Grafana na http://192.168.3.110:3000/


# otestovat i http://graphiteapp.org/#overview
